
## Сообщения пользователю

> _Область применения: управляемое приложение._

### 1. Общие рекомендации

#### 1.1. Сообщения должны быть достаточно информативными и содержательными. Сообщения составляются в форме безличного предложения: не употребляются местоимения "Вы", "Вас" и пр.  

| Правильно | Неправильно |
| --- | --- |
| "Недостаточно прав для выполнения обработки" | _"У Вас_ недостаточно прав для выполнения обработки" |

#### 1.2. Сообщения не должны содержать восклицательных знаков и повелительных тонов, за исключением сообщений, предупреждающих об опасных или критических действиях. 

| Правильно | Неправильно |
| --- | --- |
| "Внимание. Загрузка базы может привести к потере всех данных"<br><br>"Выберите элемент, а не группу" | "Внимание! Загрузка базы может привести к потере всех данных"<br><br>_Это сообщение не акцентирует внимание пользователя на том, что последствия могут критичны_<br><br>  <br>"Выберите элемент, а не группу!"<br><br>_Это сообщение несет негативный настрой, а также заставляет пользователя чувствовать себя глупо_ |

#### 1.3. Сообщение должно быть написано текстом, понятным пользователю. В частности, оно не должно содержать технической терминологии (терминологии разработчика). Подобную терминологию допускается использовать только в сообщениях, предназначенных для администратора.

_Например, если пользователь указал в качестве кассы отправителя и кассы получателя одно и то же значение, то выводится  сообщение: "Касса отправителя равна кассе получателя"._

_В реальности касса не может быть равна другой – она может быть одной и той же._ 

| Правильно | Неправильно |
| --- | --- |
| "Касса отправителя и касса получателя должны различаться" | "Касса отправителя равна кассе получателя" |

#### 1.4. Сообщения, указывающие на ошибку, должны выводиться в момент возникновения ошибки.

_Например, в отчете, сдаваемом в Пенсионный фонд, указываются  регистрационные номера сотрудников. Эти номера заполняются в карточке сотрудника.  
Проверку  правильности заполнения этого номера нужно делать в момент его  ввода в карточке, а не в момент формирования отчета._

#### 1.5. В тексте сообщений необходимо избегать двусмысленности. Категорически запрещается постановка вопроса с содержанием частиц "не" и "бы". Подобные вопросы не способны дать однозначного ответа.

| Правильно | Неправильно |
| --- | --- |
| "Удалить файл?" | "_Не_ хотели _бы_ вы удалить этот файл?" (Да / Нет)  <br>"Переместить _или_ удалить этот файл?" (Да / Нет) |

#### 1.6. В текстах сообщений не следует использовать сокращения и аббревиатуры. Исключением являются только общеупотребительные и соответствующие целевой аудитории сокращения и аббревиатуры.  
_Например, сокращения "НДС", "МСФО" понятны пользователям, а "К." (коэффициент) – нет._

#### 1.7. Если текст сообщения занимает несколько строк, рекомендуется составлять его таким образом, чтобы строки оканчивались на логическую паузу или завершались знаком препинания.

| **Правильно** | **Неправильно** |
| --- | --- |
| Не рекомендуется изменять значение ставки налога,  <br>_если_ она уже используется в справочниках или документах. | Не рекомендуется изменять значение ставки налога, _если_  <br>она уже используется в справочниках или документах. |

#### 1.8. Следует руководствоваться принципом, что в процедурах и функциях, выполняемых в транзакции, нельзя выполнять каких-либо взаимодействий с пользователем – выводить предупреждения и вопросы.

#### 1.9. Сообщения, оповещения, предупреждения или состояние не следует использовать в случае, если нужно вывести протокол, отчет или подробности о результатах выполненной операции. Для этого следует предусмотреть специальную форму.  

### 2. Сообщение об ошибках в форме
![img](C:\Users\Kuznetsov_NA\AppData\Local\Temp\v8_9FA9_7.tmp.png)
Сообщения об ошибках в форме выводятся в панели сообщений об ошибках справа:
![img](C:\Users\Kuznetsov_NA\AppData\Local\Temp\v8_9FA9_8.tmp.png)

#### 2.1. В панели сообщений следует выводить только сообщения об ошибках. Сообщения об успешном завершении операции в панели выводить запрещается. 

#### 2.2. Сообщение об ошибке по возможности должно быть привязано к полю, которое породило ошибку или позволяет исправить ее. Если сообщение нельзя привязать к тому или иному полю, то в тексте сообщения следует явно указать, что пользователю нужно сделать для того, чтобы устранить проблему.

#### 2.3. Сообщения об ошибках должны отвечать на 3 вопроса:

*   Что произошло?
*   Почему это произошло?
*   Что делать дальше?

Ответов на эти вопросы должно хватить пользователю, чтобы принять решение о дальнейших действиях, а также не повторить данной ошибки в будущем.

_Например, пользователь пытается изменить статус документа, помеченного на удаление.  
Система выдает сообщение: "Документ "Коммерческое предложение <номер> не проведен. Статус не изменен"_

_Сообщение создает новый вопрос для пользователя: почему не изменен статус? В тексте сообщения отсутствует информация о том, что документ помечен на удаление, и что именно это является причиной возникновения ошибки._

| Правильно | Неправильно |
| --- | --- |
| "Невозможно изменить статус: документ "Коммерческое предложение <номер> помечен на удаление" | "Документ "Коммерческое предложение <номер> не проведен. Статус не изменен" |

#### 2.4. Следует учитывать, что в панели сообщений текст сообщения автоматически форматируется, а строки переносятся, сохраняя при этом свои пропорции. Поэтому текст таких сообщений не нужно разбивать на строки.  

См. также: [Перенос выражений](i8100444.htm)

#### 2.5. Сообщение должно быть как можно более кратким и понятным.  
Если же поле заполнено, но неправильно, то сообщение должно быть более подробным.  
_Например, "Указанного количества товара <название товара> нет на складе. Доступно: <количество доступно> <единица измерения>"._

#### 2.6. Текст сообщения об ошибке должен содержать побудительную часть, призывающую пользователя совершить действия по исправлению ошибки.

| Правильно | Неправильно |
| --- | --- |
| "Укажите хотя бы одну систему налогообложения" | "Необходимо указать хотя бы одну систему налогообложения" |

### 3. Оповещение
![img](C:\Users\Kuznetsov_NA\AppData\Local\Temp\v8_9FA9_9.tmp.png)
#### 3.1. Рекомендуется использовать оповещение для информирования пользователя о произошедших событиях без прерывания основной работы. Пользователю не обязательно реагировать на оповещение, оно выдается для информации.  
Оповещение сообщает о том, что запрошенная операция (запись элемента справочника или проведение документа) выполнена.

#### 3.2. Оповещения рекомендуется делать с гиперссылками на соответствующие объекты.

#### 3.3. Текст и пояснение оповещения рекомендуется составлять так, чтобы они целиком помещались в окне оповещения с размерами "по умолчанию":

*   Текст – 36 знаков;
*   Пояснение  – около 100 знаков (с учетом переноса на три строки).

### 4. Состояние

#### 4.1. Рекомендуется использовать состояние для информирования о выполнении длительных процессов (занимающих более 10 секунд), чтобы у пользователей не сложилось впечатление о том, что программа "зависла". Выводите состояние:

* перед началом выполнения ("Выполняется расчет. Пожалуйста, подождите…")
* в процессе выполнения (если есть возможность)
* при завершении ("Расчет выполнен")

#### 4.2. Состояние используется для длительных операций, состоящих из некоторого числа более мелких операций.  
_Например, при переносе файлов с жесткого диска в информационную базу можно выводить состояние для каждого переносимого файла:_

![img](C:\Users\Kuznetsov_NA\AppData\Local\Temp\v8_9FA9_a.tmp.png)

См. также: [Длительные операции](i8100642.htm), [Запись событий в историю работы пользователя](i8100497.htm)

### 5. Предупреждение

#### 5.1. Предупреждение рекомендуется использовать только в тех случаях, когда необходимо прервать работу пользователя, чтобы он ознакомился с некоторой информацией. При этом для возобновления работы пользователю не нужно принимать решений.

#### 5.2. Не следует использовать предупреждение для информирования о начале выполнения длительных обработок. Такое сообщения следует выдавать непосредственно в форме обработки.  
  
#### 5.3. В тексте предупреждения следует привести законченные пояснения о последующих действиях и их последствиях.

_Например, пользователь пытается заполнить цены товаров в табличной части "Товары" документа «Заказ клиента». Программа выдает предупреждение о невозможности выполнения этого действия:_

![img](C:\Users\Kuznetsov_NA\AppData\Local\Temp\v8_9FA9_b.tmp.png)

### 6. Вопросы в сообщениях

#### 6.1. Рекомендуется использовать в тех случаях, когда необходимо, чтобы пользователь принял решение, например, о продолжении начатой операции.

#### 6.2. Вопросы рекомендуется выдавать перед выполнением:

* действий, результаты которых отменить потом невозможно
* потенциально опасных для данных пользователя действий
* массовой обработки информационной базы
*  длительных процедур

#### 6.3. Ответами на вопрос должны выступать глаголы, обозначающие последующие действия.

Например:

![img](C:\Users\Kuznetsov_NA\AppData\Local\Temp\v8_9FA9_c.tmp.png)

### 6.4.  В сообщениях-вопросах кнопкой по умолчанию должна являться та кнопка, выбор которой наиболее безопасен для данных пользователя.  
Например, при сохранении файла кнопкой по умолчанию является "Сохранить":

![img](C:\Users\Kuznetsov_NA\AppData\Local\Temp\v8_9FA9_d.tmp.png)

**ВАЖНО:** Чаще всего в ОС Windows кнопкой по умолчанию является первая (самая левая) кнопка. Прибегать к изменению кнопки по умолчанию рекомендуется только в исключительных ситуациях.

Источник: https://its.1c.ru/db/v8std/content/585/hdoc
